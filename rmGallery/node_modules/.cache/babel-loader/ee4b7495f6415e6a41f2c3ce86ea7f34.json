{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carchaw\\\\Documents\\\\template_gallery\\\\rm_gallery\\\\src\\\\components\\\\showcase\\\\Showcase.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport './showcase.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Showcase = () => {\n  _s();\n\n  const [showcaseList, setshowcaseList] = useState([]);\n  let [loading, setLoading] = useState(false);\n  let [color] = useState(\"#1E9A4B\");\n  let filter_dimension = [];\n  let filter_platform = [];\n  let filter_device = [];\n  let filter_brand = [];\n  let filter_list = [];\n\n  const getData = async () => {\n    const res = await fetch(\"https://spreadsheets.google.com/feeds/list/1kJl_ioUAK1umhl9oCHF8Oo7u698QdngllHuwerOFpIo/1/public/values?alt=json\");\n    const data = await res.json();\n    setshowcaseList(data.feed.entry);\n  };\n\n  const filterDataArr = () => {\n    for (var i = 0; i < showcaseList.length; i++) {\n      filter_platform.push(showcaseList[i].gsx$platform.$t);\n      let arrPlatformString = filter_platform.toString();\n      let arrPlatform = arrPlatformString.split(\",\");\n      filter_platform = arrPlatform.filter((v, i, a) => a.indexOf(v) === i);\n      filter_device.push(showcaseList[i].gsx$device.$t);\n      let arrDeviceString = filter_device.toString();\n      let arrDevice = arrDeviceString.split(\",\");\n      filter_device = arrDevice.filter((v, i, a) => a.indexOf(v) === i);\n      filter_brand.push(showcaseList[i].gsx$brand.$t);\n      filter_brand = filter_brand.filter((v, i, a) => a.indexOf(v) === i);\n      filter_dimension.push(showcaseList[i].gsx$dimension.$t);\n      let arrDimenString = filter_dimension.toString();\n      let arrDimen = arrDimenString.split(\",\");\n      filter_dimension = arrDimen.filter((v, i, a) => a.indexOf(v) === i);\n    }\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      getData();\n      setLoading(true);\n    }\n\n    return function cleanup() {\n      mounted = false;\n    };\n  }, []);\n  filterDataArr();\n\n  const displayRelatedContainer = () => {\n    const containers = document.querySelectorAll('div[name=\"data_container\"]');\n    let classes = '\\\\b(' + filter_list.join('|') + ')\\\\b',\n        dimenRegex = new RegExp(classes, 'i');\n    containers.forEach(eContainer => {\n      let elClasses = ' ' + eContainer.getAttribute('class').replace(/\\s+/, ' ') + ' ';\n      let iBrand = eContainer.getAttribute('banner-brand');\n\n      if (filter_list.length > 0) {\n        if (dimenRegex.test(elClasses) || filter_list.indexOf(iBrand) > -1) {\n          eContainer.style.display = \"block\";\n        } else {\n          eContainer.style.display = \"none\";\n        }\n      } else {\n        eContainer.style.display = \"block\";\n      }\n    });\n  };\n\n  const toggle = e => {\n    const target = e.target;\n    const value = e.target.value;\n\n    if (target.checked) {\n      filter_list.push(value);\n      displayRelatedContainer();\n    } else {\n      for (var i = 0; i < filter_list.length; i++) {\n        if (filter_list[i] === value) {\n          filter_list.splice(i, 1);\n        }\n      }\n\n      displayRelatedContainer();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loading ? /*#__PURE__*/_jsxDEV(ClipLoader, {\n      color: color,\n      size: 180\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Filter by: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row filter_cat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2\",\n              children: \"\\u652F\\u63F4\\u884C\\u52D5\\u8A2D\\u5099:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10\",\n              children: filter_device.map((item, key) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: toggle,\n                    type: \"checkbox\",\n                    className: \"form-check-input\",\n                    id: item,\n                    value: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: item,\n                    className: \"form-check-label\",\n                    children: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 45\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 48\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row filter_cat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2\",\n              children: \"\\u652F\\u63F4\\u6295\\u905E\\u5E73\\u53F0:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10\",\n              children: filter_platform.map((item, key) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: toggle,\n                    type: \"checkbox\",\n                    className: \"form-check-input\",\n                    id: item,\n                    value: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: item,\n                    className: \"form-check-label\",\n                    children: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 45\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 48\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row filter_cat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2\",\n              children: \"\\u54C1\\u724C:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10\",\n              children: filter_brand.map((item, key) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: toggle,\n                    type: \"checkbox\",\n                    className: \"form-check-input\",\n                    id: item,\n                    value: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: item,\n                    className: \"form-check-label\",\n                    children: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 45\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 48\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row filter_cat\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2\",\n              children: \"\\u652F\\u63F4\\u5C3A\\u5BF8:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10\",\n              children: filter_dimension.map((item, key) => {\n                if (item === '') {\n                  return null;\n                } else {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-check\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      onChange: toggle,\n                      className: \"form-check-input\",\n                      id: item,\n                      value: item\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: item,\n                      className: \"form-check-label\",\n                      children: item\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 53\n                    }, this)]\n                  }, key, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 49\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: showcaseList.map((item, key) => {\n          let dimension = item.gsx$dimension.$t.replace(/,/g, ' ');\n          let device = item.gsx$device.$t.replace(/,/g, ' ');\n          let platform = item.gsx$platform.$t.replace(/,/g, ' ');\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            name: \"data_container\",\n            className: dimension + \" \" + device + \" \" + platform + \" \" + item.gsx$tempid.$t,\n            \"banner-brand\": item.gsx$brand.$t,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.gsx$previewimg.$t,\n                alt: item.gsx$brand.$t\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"template_name card-title\",\n                children: item.gsx$brand.$t\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-text\",\n                children: item.gsx$desc.$t\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                rounded: true,\n                color: \"success\",\n                children: \"\\u95B1\\u8B80\\u66F4\\u591A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 41\n            }, this)\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Showcase, \"IcpUt5ct21t2JXvIAqiF2N/46W8=\");\n\n_c = Showcase;\nexport default Showcase;\n\nvar _c;\n\n$RefreshReg$(_c, \"Showcase\");","map":{"version":3,"sources":["C:/Users/carchaw/Documents/template_gallery/rm_gallery/src/components/showcase/Showcase.js"],"names":["React","useState","useEffect","ClipLoader","Showcase","showcaseList","setshowcaseList","loading","setLoading","color","filter_dimension","filter_platform","filter_device","filter_brand","filter_list","getData","res","fetch","data","json","feed","entry","filterDataArr","i","length","push","gsx$platform","$t","arrPlatformString","toString","arrPlatform","split","filter","v","a","indexOf","gsx$device","arrDeviceString","arrDevice","gsx$brand","gsx$dimension","arrDimenString","arrDimen","mounted","cleanup","displayRelatedContainer","containers","document","querySelectorAll","classes","join","dimenRegex","RegExp","forEach","eContainer","elClasses","getAttribute","replace","iBrand","test","style","display","toggle","e","target","value","checked","splice","map","item","key","dimension","device","platform","gsx$tempid","gsx$previewimg","gsx$desc"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport './showcase.scss';\r\n\r\n\r\n\r\nconst Showcase = () => {\r\n    const [showcaseList, setshowcaseList] = useState([])\r\n    let [loading, setLoading] = useState(false)\r\n    let [color] = useState(\"#1E9A4B\")\r\n\r\n    let filter_dimension = [];\r\n    let filter_platform = [];\r\n    let filter_device = [];\r\n    let filter_brand = [];\r\n    let filter_list = [];\r\n\r\n    const getData = async () => {\r\n        const res = await fetch(\"https://spreadsheets.google.com/feeds/list/1kJl_ioUAK1umhl9oCHF8Oo7u698QdngllHuwerOFpIo/1/public/values?alt=json\")\r\n        const data = await res.json()\r\n        setshowcaseList(data.feed.entry)\r\n    }\r\n\r\n    const filterDataArr = () => {\r\n        for (var i = 0; i < showcaseList.length; i++) {\r\n            filter_platform.push(showcaseList[i].gsx$platform.$t)\r\n            let arrPlatformString = filter_platform.toString()\r\n            let arrPlatform = arrPlatformString.split(\",\");\r\n            filter_platform = arrPlatform.filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n            filter_device.push(showcaseList[i].gsx$device.$t)\r\n            let arrDeviceString = filter_device.toString()\r\n            let arrDevice = arrDeviceString.split(\",\");\r\n            filter_device = arrDevice.filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n            filter_brand.push(showcaseList[i].gsx$brand.$t);\r\n            filter_brand = filter_brand.filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n            filter_dimension.push(showcaseList[i].gsx$dimension.$t)\r\n            let arrDimenString = filter_dimension.toString()\r\n            let arrDimen = arrDimenString.split(\",\");\r\n            filter_dimension = arrDimen.filter((v, i, a) => a.indexOf(v) === i);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let mounted = true\r\n        if (mounted) {\r\n            getData()\r\n            setLoading(true)\r\n        }\r\n        return function cleanup() {\r\n            mounted = false\r\n        }\r\n\r\n    }, [])\r\n\r\n    filterDataArr()\r\n\r\n    const displayRelatedContainer = () => {\r\n        const containers = document.querySelectorAll('div[name=\"data_container\"]');\r\n        let classes = '\\\\b(' + filter_list.join('|') + ')\\\\b', dimenRegex = new RegExp(classes, 'i');\r\n        containers.forEach(eContainer => {\r\n            let elClasses = ' ' + eContainer.getAttribute('class').replace(/\\s+/, ' ') + ' ';\r\n            let iBrand = eContainer.getAttribute('banner-brand');\r\n            if (filter_list.length > 0) {\r\n                if (dimenRegex.test(elClasses) || filter_list.indexOf(iBrand) > -1) {\r\n                    eContainer.style.display = \"block\";\r\n                } else {\r\n                    eContainer.style.display = \"none\";\r\n                }\r\n            } else {\r\n                eContainer.style.display = \"block\";\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const toggle = (e) => {\r\n        const target = e.target;\r\n        const value = e.target.value;\r\n        if (target.checked) {\r\n            filter_list.push(value);\r\n            displayRelatedContainer()\r\n        } else {\r\n            for (var i = 0; i < filter_list.length; i++) {\r\n                if (filter_list[i] === value) {\r\n                    filter_list.splice(i, 1);\r\n                }\r\n            }\r\n            displayRelatedContainer()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!loading ?\r\n                < ClipLoader color={color} size={180}></ClipLoader>\r\n                :\r\n                <div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <span>Filter by: </span>\r\n                            <div className=\"row filter_cat\">\r\n                                <div className=\"col-md-2\">支援行動設備:</div>\r\n                                <div className=\"col-md-10\">\r\n                                    {filter_device.map((item, key) => {\r\n                                        return <div key={key} className=\"form-check\">\r\n                                            <input onChange={toggle} type=\"checkbox\" className=\"form-check-input\" id={item} value={item}></input>\r\n                                            <label htmlFor={item} className=\"form-check-label\">{item}</label>\r\n                                        </div>\r\n                                    })}\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"row filter_cat\">\r\n                                <div className=\"col-md-2\">支援投遞平台:</div>\r\n                                <div className=\"col-md-10\">\r\n                                    {filter_platform.map((item, key) => {\r\n                                        return <div key={key} className=\"form-check\">\r\n                                            <input onChange={toggle} type=\"checkbox\" className=\"form-check-input\" id={item} value={item}></input>\r\n                                            <label htmlFor={item} className=\"form-check-label\">{item}</label>\r\n                                        </div>\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row filter_cat\">\r\n                                <div className=\"col-md-2\">品牌:</div>\r\n                                <div className=\"col-md-10\">\r\n                                    {filter_brand.map((item, key) => {\r\n                                        return <div key={key} className=\"form-check\">\r\n                                            <input onChange={toggle} type=\"checkbox\" className=\"form-check-input\" id={item} value={item}></input>\r\n                                            <label htmlFor={item} className=\"form-check-label\">{item}</label>\r\n                                        </div>\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row filter_cat\">\r\n                                <div className=\"col-md-2\">支援尺寸:</div>\r\n                                <div className=\"col-md-10\">\r\n                                    {filter_dimension.map((item, key) => {\r\n                                        if (item === '') {\r\n                                            return null;\r\n                                        } else {\r\n                                            return (\r\n                                                <div key={key} className=\"form-check\">\r\n                                                    <input type=\"checkbox\" onChange={toggle} className=\"form-check-input\" id={item} value={item}></input>\r\n                                                    <label htmlFor={item} className=\"form-check-label\">{item}</label>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        {\r\n                            showcaseList.map((item, key) => {\r\n                                let dimension = item.gsx$dimension.$t.replace(/,/g, ' ');\r\n                                let device = item.gsx$device.$t.replace(/,/g, ' ');\r\n                                let platform = item.gsx$platform.$t.replace(/,/g, ' ');\r\n\r\n                                return (\r\n                                    <div key={key} name=\"data_container\" className={dimension + \" \" + device + \" \" + platform + \" \" + item.gsx$tempid.$t} banner-brand={item.gsx$brand.$t}>\r\n                                        <div className=\"card-body\">\r\n                                            <img src={item.gsx$previewimg.$t} alt={item.gsx$brand.$t} />\r\n                                            <h5 className='template_name card-title'>{item.gsx$brand.$t}</h5>\r\n                                            <div className=\"card-text\">{item.gsx$desc.$t}</div >\r\n                                            <button rounded color=\"success\">閱讀更多</button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div >\r\n\r\n    );\r\n}\r\n\r\nexport default Showcase;"]},"metadata":{},"sourceType":"module"}